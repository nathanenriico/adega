<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics do Carrinho - Adega do Tio Pancho</title>
    <link rel="stylesheet" href="css/analytics.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="analytics-container">
        <header class="analytics-header">
            <h1>📊 Analytics do Carrinho</h1>
            <div class="header-actions">
                <button onclick="createTestData()" class="test-btn">📊 Dados Teste</button>
                <button onclick="simulateAbandonedCart()" class="simulate-btn">🛒 + Abandonado</button>
                <button onclick="resetAnalytics()" class="reset-btn">🔄 Resetar</button>
                <button onclick="exportData()" class="export-btn">📥 Exportar</button>
                <button onclick="window.close()" class="close-btn">✕</button>
            </div>
        </header>

        <div class="stats-grid">

            <div class="stat-card added">
                <h3>🛒 Carrinho Adicionado</h3>
                <span id="stat-adicionado">0</span>
            </div>
            <div class="stat-card edited">
                <h3>✏️ Carrinho Editado</h3>
                <span id="stat-editado">0</span>
            </div>

            <div class="stat-card confirmed">
                <h3>✅ Pedido Confirmado</h3>
                <span id="stat-confirmado">0</span>
            </div>
            <div class="stat-card preparing">
                <h3>👨‍🍳 Em Preparo</h3>
                <span id="stat-preparando">0</span>
            </div>
            <div class="stat-card delivery">
                <h3>🛵 Em Entrega</h3>
                <span id="stat-em_entrega">0</span>
            </div>
            <div class="stat-card delivered">
                <h3>🎉 Entregue</h3>
                <span id="stat-entregue">0</span>
            </div>

            <div class="stat-card abandoned">
                <h3>🚫 Desistido</h3>
                <span id="stat-desistido">0</span>
            </div>
        </div>



        <div class="flow-section">
            <h2>🔄 Fluxo do Carrinho</h2>
            <div class="flow-diagram">

                <div class="flow-step">
                    <div class="flow-icon">🛒</div>
                    <div class="flow-label">Adicionado</div>
                    <div class="flow-count" id="flow-adicionado">0</div>
                </div>
                <div class="flow-arrow">→</div>
                <div class="flow-step">
                    <div class="flow-icon">✏️</div>
                    <div class="flow-label">Editado</div>
                    <div class="flow-count" id="flow-editado">0</div>
                </div>
                <div class="flow-arrow">→</div>
                <div class="flow-step">
                    <div class="flow-icon">✅</div>
                    <div class="flow-label">Confirmado</div>
                    <div class="flow-count" id="flow-confirmado">0</div>
                </div>
                <div class="flow-arrow">→</div>
                <div class="flow-step">
                    <div class="flow-icon">👨‍🍳</div>
                    <div class="flow-label">Preparo</div>
                    <div class="flow-count" id="flow-preparando">0</div>
                </div>
                <div class="flow-arrow">→</div>
                <div class="flow-step">
                    <div class="flow-icon">🎉</div>
                    <div class="flow-label">Entregue</div>
                    <div class="flow-count" id="flow-entregue">0</div>
                </div>
            </div>
        </div>






        <div class="abandoned-carts-section">
            <div class="section-tabs">
                <button class="tab-btn active" onclick="switchTab('desisted')" id="tab-desisted">🚫 Desistidos</button>
            </div>
            <div class="section-info">
                <p id="section-description">Clientes que adicionaram produtos ao carrinho mas não finalizaram a compra. Use o WhatsApp para recuperar essas vendas!</p>
            </div>
            <div class="abandoned-carts-list" id="abandoned-carts-list">
                <p>Carregando carrinhos abandonados...</p>
            </div>
        </div>

    </div>

    <script src="js/analytics.js"></script>
</body>
</html>