<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics do Carrinho - Adega do Tio Pancho</title>
    <link rel="stylesheet" href="analytics.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="analytics-container">
        <header class="analytics-header">
            <h1>📊 Analytics do Carrinho</h1>
            <div class="header-actions">
                <button onclick="createTestData()" class="test-btn">📊 Dados Teste</button>
                <button onclick="resetAnalytics()" class="reset-btn">🔄 Resetar</button>
                <button onclick="exportData()" class="export-btn">📥 Exportar</button>
                <button onclick="window.close()" class="close-btn">✕</button>
            </div>
        </header>

        <div class="stats-grid">
            <div class="stat-card active">
                <h3>🟢 Carrinho Ativo</h3>
                <span id="stat-ativo">0</span>
            </div>
            <div class="stat-card edited">
                <h3>✏️ Carrinho Editado</h3>
                <span id="stat-editado">0</span>
            </div>
            <div class="stat-card incomplete">
                <h3>⚠️ Carrinho Abandonado</h3>
                <span id="stat-incompleto">0</span>
            </div>
            <div class="stat-card confirmed">
                <h3>✅ Pedido Confirmado</h3>
                <span id="stat-confirmado">0</span>
            </div>
            <div class="stat-card preparing">
                <h3>👨‍🍳 Em Preparo</h3>
                <span id="stat-preparando">0</span>
            </div>
            <div class="stat-card delivery">
                <h3>🛵 Em Entrega</h3>
                <span id="stat-em_entrega">0</span>
            </div>
            <div class="stat-card delivered">
                <h3>🎉 Entregue</h3>
                <span id="stat-entregue">0</span>
            </div>

            <div class="stat-card abandoned">
                <h3>🚫 Desistido</h3>
                <span id="stat-desistido">0</span>
            </div>
        </div>

        <div class="charts-section">
            <div class="chart-card">
                <h3>Taxa de Conversão</h3>
                <div class="rate-circle conversion">
                    <span id="conversion-percentage">0%</span>
                </div>
                <p>Carrinhos → Pedidos</p>
            </div>
            <div class="chart-card">
                <h3>Taxa de Conclusão</h3>
                <div class="rate-circle completion">
                    <span id="completion-percentage">0%</span>
                </div>
                <p>Pedidos → Entregas</p>
            </div>
            <div class="chart-card">
                <h3>Taxa de Abandono</h3>
                <div class="rate-circle abandonment">
                    <span id="abandonment-percentage">0%</span>
                </div>
                <p>Carrinhos Abandonados</p>
            </div>
        </div>

        <div class="flow-section">
            <h2>🔄 Fluxo do Carrinho</h2>
            <div class="flow-diagram">
                <div class="flow-step">
                    <div class="flow-icon">🛒</div>
                    <div class="flow-label">Ativo</div>
                    <div class="flow-count" id="flow-ativo">0</div>
                </div>
                <div class="flow-arrow">→</div>
                <div class="flow-step">
                    <div class="flow-icon">✏️</div>
                    <div class="flow-label">Editado</div>
                    <div class="flow-count" id="flow-editado">0</div>
                </div>
                <div class="flow-arrow">→</div>
                <div class="flow-step">
                    <div class="flow-icon">✅</div>
                    <div class="flow-label">Confirmado</div>
                    <div class="flow-count" id="flow-confirmado">0</div>
                </div>
                <div class="flow-arrow">→</div>
                <div class="flow-step">
                    <div class="flow-icon">👨‍🍳</div>
                    <div class="flow-label">Preparo</div>
                    <div class="flow-count" id="flow-preparando">0</div>
                </div>
                <div class="flow-arrow">→</div>
                <div class="flow-step">
                    <div class="flow-icon">🎉</div>
                    <div class="flow-label">Entregue</div>
                    <div class="flow-count" id="flow-entregue">0</div>
                </div>
            </div>
        </div>

        <div class="activity-section">
            <h2>📋 Atividades Recentes</h2>
            <div class="activity-log" id="activity-list">
                <p>Nenhuma atividade registrada</p>
            </div>
        </div>

        <div class="abandoned-carts-section">
            <h2>🛒 Carrinhos Abandonados</h2>
            <div class="abandoned-carts-list" id="abandoned-carts-list">
                <p>Nenhum carrinho abandonado</p>
            </div>
        </div>


    </div>

    <script src="analytics.js"></script>
</body>
</html>